<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Home Depot Garden Center Guide</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Main stylesheet -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ORANGE BRAND BAR -->
<header class="brand-bar">#1 Home Improvement Retailer</header>

<!-- LOGO (clickable, opens Home Depot homepage) -->
<div class="logo-container">
  <a href="https://www.homedepot.com/" target="_blank" aria-label="Go to Home Depot homepage">
    <img id="logo" src="home-depot-logo.png.jpg" alt="The Home Depot Logo">
  </a>
</div>

<!-- HERO SECTION -->
<section class="hero">
  <h1>Garden Center Plant Guide</h1>
  <p class="subtitle">Meet Hector Nectar, your hummingbird plant guide</p>

  <img class="hector" id="hectorBird" src="hector-hummingbird.png.jpg" alt="Hector the Hummingbird">

  <!-- Direction text -->
  <div class="hint-text">Double-click Hector to ask him a question ðŸ’¬</div>

  <!-- Speech bubble is the ONLY answer area -->
  <div id="hectorText" class="speech-bubble">
    Tap a plant below to learn how to glow up your garden.
  </div>

  <!-- ASK BAR (stays visible once opened) -->
  <div id="askBar" class="askbar hidden">
    <input id="askInput" type="text" placeholder="Ask Hector about the garden center..." />
    <button id="askBtn" type="button">Ask Hector</button>
  </div>
</section>

<!-- FILTER BUTTONS -->
<section class="filters">
  <button onclick="filterPlants('all')">All Plants</button>
  <button onclick="filterPlants('sun')">Full Sun</button>
  <button onclick="filterPlants('shade')">Partial Shade</button>
</section>

<!-- PLANT SELECTION BUTTONS -->
<section class="plant-buttons">
  <button data-sun="sun" onclick="showPlant('beebalm', event)">Bee Balm</button>
  <button data-sun="sun" onclick="showPlant('salvia', event)">Salvia</button>
  <button data-sun="shade" onclick="showPlant('columbine', event)">Columbine</button>
  <button data-sun="sun" onclick="showPlant('zinnia', event)">Zinnia</button>
  <button data-sun="sun" onclick="showPlant('agastache', event)">Hummingbird Mint</button>
  <button data-sun="shade" onclick="showPlant('fuchsia', event)">Fuchsia</button>
  <button data-sun="shade" onclick="showPlant('cardinal', event)">Cardinal Flower</button>
</section>

<!-- PLANT INFO CARD -->
<section class="info-section">
  <div id="plantCard" class="plant-card hidden">
    <img id="plantImage" src="" alt="">
    <h2 id="plantName"></h2>
    <p id="plantWhy"></p>

    <ul>
      <li><strong>Sun:</strong> <span id="plantSun"></span></li>
      <li><strong>Water:</strong> <span id="plantWater"></span></li>
      <li><strong>Soil:</strong> <span id="plantSoil"></span></li>
      <li><strong>Maintenance:</strong> <span id="plantCare"></span></li>
      <li><strong>Find it in:</strong> <span id="plantAisle"></span></li>
    </ul>

    <div class="recommended-products">
      <h3>Recommended Home Depot Products</h3>
      <ul id="plantProducts"></ul>
    </div>

    <p class="availability">
      Plant availability varies by region and season.
    </p>
  </div>
</section>

<!-- DIY PROJECTS TAB -->
<section class="diy-section">
  <h2>DIY Garden Projects</h2>
  <p class="subtitle">Try these simple projects to enhance your garden space</p>

  <div class="diy-buttons">
    <button onclick="showDIY('planterBox')">DIY Planter Box</button>
    <button onclick="showDIY('gardenMarker')">Garden Plant Markers</button>
    <button onclick="showDIY('steppingStones')">Garden Stepping Stones</button>
  </div>

  <div id="diyCard" class="plant-card hidden">
    <h3 id="diyTitle"></h3>
    <p id="diyDescription"></p>
    <ul id="diyMaterials"></ul>
  </div>
</section>

<!-- AUDIO FOR HECTOR -->
<audio id="hectorAudio" src="luvvoice.com-20260210-6lsylk.mp3"></audio>

<script>
/* -------------------- PLANTS DATA (only product links fixed) -------------------- */
const plants = {
  beebalm: {
    name: "Bee Balm (Monarda)",
    image: "plants/beebalm.jpg",
    why: "Bright tubular flowers provide rich nectar that hummingbirds love.",
    sun: "Full sun to partial shade",
    water: "Regular",
    soil: "Moist, well-drained soil",
    care: "Medium",
    aisle: "Garden Center â€“ Perennials",
    products: [
      {
        name: "Miracle-Gro Moisture Control Potting Mix 50 qt.",
        url: "https://www.homedepot.com/p/Miracle-Gro-Moisture-Control-Potting-Mix-50-qt-For-Container-Plants-Protects-Against-Over-and-Under-Watering-70190430/206553444"
      },
      {
        name: "Scotts Turf Builder Lawn Food 37.5 lbs. (15,000 sq. ft.)",
        url: "https://www.homedepot.com/p/Scotts-Turf-Builder-37-5-lbs-15-000-sq-ft-Dry-Lawn-Fertilizer-for-All-Grass-Types-22315/203120196"
      }
    ]
  },
  salvia: {
    name: "Salvia",
    image: "plants/salvia.jpg",
    why: "Long blooming spikes attract hummingbirds all season.",
    sun: "Full sun",
    water: "Low to moderate",
    soil: "Well-drained soil",
    care: "Low",
    aisle: "Garden Center â€“ Perennials",
    products: [
      {
        name: "Miracle-Gro 2 cu. ft. Garden Soil for Flowers and Vegetables",
        url: "https://www.homedepot.com/p/Miracle-Gro-2-cu-ft-Garden-Soil-for-Flowers-and-Vegetables-73452300/100355778"
      }
    ]
  },
  columbine: {
    name: "Columbine",
    image: "plants/columbine.jpg",
    why: "Nodding flowers are perfectly shaped for hummingbirds.",
    sun: "Partial shade",
    water: "Moderate",
    soil: "Well-drained soil",
    care: "Low",
    aisle: "Garden Center â€“ Shade Plants",
    products: [
      {
        name: "Espoma 27 lb. Organic All Purpose Plant-Tone Fertilizer",
        url: "https://www.homedepot.com/p/Espoma-27-lb-Organic-All-Purpose-Plant-Tone-Fertilizer-100540066/312050067"
      }
    ]
  },
  zinnia: {
    name: "Zinnia",
    image: "plants/zinnia.jpg",
    why: "Easy annuals that provide consistent nectar.",
    sun: "Full sun",
    water: "Low",
    soil: "Average garden soil",
    care: "Low",
    aisle: "Garden Center â€“ Annuals",
    products: [
      {
        name: "Miracle-Gro 2 cu. ft. Garden Soil for Flowers and Vegetables",
        url: "https://www.homedepot.com/p/Miracle-Gro-2-cu-ft-Garden-Soil-for-Flowers-and-Vegetables-73452300/100355778"
      }
    ]
  },
  agastache: {
    name: "Hummingbird Mint (Agastache)",
    image: "plants/agastache.jpg",
    why: "Minty foliage and tall blooms attract pollinators.",
    sun: "Full sun",
    water: "Low",
    soil: "Well-drained soil",
    care: "Low",
    aisle: "Garden Center â€“ Perennials",
    products: [
      {
        name: "Espoma 27 lb. Organic All Purpose Plant-Tone Fertilizer",
        url: "https://www.homedepot.com/p/Espoma-27-lb-Organic-All-Purpose-Plant-Tone-Fertilizer-100540066/312050067"
      }
    ]
  },
  fuchsia: {
    name: "Fuchsia",
    image: "plants/fuchsia.jpg",
    why: "Pendant flowers are a hummingbird favorite.",
    sun: "Partial shade",
    water: "Consistent moisture",
    soil: "Rich, well-drained soil",
    care: "Medium",
    aisle: "Garden Center â€“ Hanging Baskets",
    products: [
      {
        name: "Vigoro Madigan Hanging Basket Planter (2-Pack)",
        url: "https://www.homedepot.com/p/Vigoro-Madigan-Medium-Black-Resin-Round-Hanging-Basket-Planter-with-Drainage-Holes-12-in-L-x-12-in-W-x-5-5-in-H-2-Pack-PTJ7412TWZ/329769230"
      }
    ]
  },
  cardinal: {
    name: "Cardinal Flower",
    image: "plants/cardinal.jpg",
    why: "Brilliant red blooms are irresistible to hummingbirds.",
    sun: "Partial shade",
    water: "High",
    soil: "Moist soil",
    care: "Medium",
    aisle: "Garden Center â€“ Native Plants",
    products: [
      {
        name: "2 cu. ft. Cedar Blend Shredded Bagged Mulch",
        url: "https://www.homedepot.com/p/2-cu-ft-Cedar-Blend-Shredded-Bagged-Mulch-52058060/100598806"
      }
    ]
  }
};

/* -------------------- DIY PROJECTS (already real links) -------------------- */
const diyProjects = {
  planterBox: {
    title: "DIY Planter Box",
    description: "Build a simple wooden planter box to grow flowers, herbs, or small vegetables.",
    materials: [
      { name: "Cedar Board", url: "https://www.homedepot.com/p/WeatherShield-Common-1-in-x-6-in-x-8-ft-Actual-0-75-in-x-5-5-in-x-96-in-Cedar-Board-267380/300526010" },
      { name: "Deck Screws", url: "https://www.homedepot.com/p/Grip-Rite-9-x-2-1-2-in-Star-Drive-Deck-Screws-1-lb-Pack-PTN212S1/100174061" }
    ]
  },
  gardenMarker: {
    title: "Garden Plant Markers",
    description: "Make plant markers so your garden stays organized and easy to maintain.",
    materials: [
      { name: "Wood Craft Sticks", url: "https://www.homedepot.com/s/craft%20sticks" },
      { name: "Permanent Marker", url: "https://www.homedepot.com/s/permanent%20marker" }
    ]
  },
  steppingStones: {
    title: "Garden Stepping Stones",
    description: "Add stepping stones to create a clean walkway through your garden space.",
    materials: [
      { name: "Concrete Mix", url: "https://www.homedepot.com/p/Quikrete-80-lb-Concrete-Mix-110180/100318511" },
      { name: "Patio Stone", url: "https://www.homedepot.com/p/Oldcastle-11-5-in-x-11-5-in-Square-Concrete-Patio-Stone-72600/206501693" }
    ]
  }
};

/* -------------------- EXISTING FUNCTIONS (UNCHANGED) -------------------- */
function showPlant(id, event) {
  const p = plants[id];
  document.getElementById("plantCard").classList.remove("hidden");
  document.getElementById("diyCard").classList.add("hidden");

  document.getElementById("plantImage").src = p.image;
  document.getElementById("plantName").innerText = p.name;
  document.getElementById("plantWhy").innerText = p.why;
  document.getElementById("plantSun").innerText = p.sun;
  document.getElementById("plantWater").innerText = p.water;
  document.getElementById("plantSoil").innerText = p.soil;
  document.getElementById("plantCare").innerText = p.care;
  document.getElementById("plantAisle").innerText = p.aisle;

  document.querySelectorAll(".plant-buttons button").forEach(btn => btn.classList.remove("active"));
  if (event) event.target.classList.add("active");

  document.getElementById("hectorText").innerText =
    "Great choice! Here's what you need to know about " + p.name + ".";

  const productList = document.getElementById("plantProducts");
  productList.innerHTML = "";
  p.products.forEach(item => {
    const li = document.createElement("li");
    const a = document.createElement("a");
    a.href = item.url;
    a.textContent = item.name;
    a.target = "_blank";
    a.rel = "noopener noreferrer";
    li.appendChild(a);
    productList.appendChild(li);
  });
}

function filterPlants(type) {
  document.querySelectorAll(".plant-buttons button").forEach(btn => {
    btn.style.display =
      type === "all" || btn.dataset.sun === type ? "inline-block" : "none";
  });
}

function showDIY(id) {
  const project = diyProjects[id];
  document.getElementById("diyCard").classList.remove("hidden");
  document.getElementById("plantCard").classList.add("hidden");

  document.getElementById("diyTitle").innerText = project.title;
  document.getElementById("diyDescription").innerText = project.description;

  const materialList = document.getElementById("diyMaterials");
  materialList.innerHTML = "";
  project.materials.forEach(item => {
    const li = document.createElement("li");
    const a = document.createElement("a");
    a.href = item.url;
    a.textContent = item.name;
    a.target = "_blank";
    a.rel = "noopener noreferrer";
    li.appendChild(a);
    materialList.appendChild(li);
  });

  document.getElementById("hectorText").innerText =
    "Try this DIY project in your garden: " + project.title + "!";
}

/* -------------------- HECTOR AUDIO (SINGLE CLICK) -------------------- */
document.getElementById("hectorBird").addEventListener("click", () => {
  document.getElementById("hectorAudio").play();
});

/* -------------------- DOUBLE-CLICK: SHOW ASK BAR & KEEP IT -------------------- */
const askBar = document.getElementById("askBar");
const askInput = document.getElementById("askInput");
const askBtn = document.getElementById("askBtn");

document.getElementById("hectorBird").addEventListener("dblclick", (e) => {
  e.preventDefault();
  askBar.classList.remove("hidden");
  askInput.focus();
});

askBtn.addEventListener("click", sendQuestion);
askInput.addEventListener("keydown", (e) => {
  if (e.key === "Enter") sendQuestion();
});

async function sendQuestion() {
  const msg = askInput.value.trim();
  if (!msg) return;

  // keep bar visible
  askInput.value = "";
  askInput.focus();

  document.getElementById("hectorText").innerText = "Hector is thinking...";

  try {
    const res = await fetch("/api/hector", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ message: msg })
    });

    const data = await res.json();
    document.getElementById("hectorText").innerText =
      data.reply || "I couldnâ€™t answer that. Try another garden question.";
  } catch {
    document.getElementById("hectorText").innerText =
      "I couldnâ€™t reach my brain right now. Make sure the server is running.";
  }
}
</script>

</body>
</html>
